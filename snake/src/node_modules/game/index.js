//import 'game/style.css'; // webpack magic
import { Point, SCALE_MODES, settings, Sprite } from 'pixi.js';
settings.SCALE_MODE = SCALE_MODES.NEAREST;

import * as engine from 'engine';
import * as display from 'engine/display';
import * as resources from 'engine/resources';
import Scene from 'engine/Scene';
import {Head} from 'game/Snake';

class TestScene extends Scene {
  init() {
    this.backgroundColor = 0xFFFFFF;
    let frames = Object.keys(resources.textureCache);

    this.character = new Head; 
    this.character.createSprite = () => {
      let sprite = Sprite.fromFrame(frames[0]);
      this.stage.addChild(sprite);
      return sprite;
    };
    
    this.character.init(new Point(display.width / 2, display.height / 2));

    //this.stage.addChild(this.character.sprite);
  }

  update(dt) {
    this.character.update(dt);
  }
}

const parentElement = document.body;
parentElement.innerHTML = '<div class="msg-loading">Loading...</div>';

engine.launch(new TestScene(), { parentElement });
